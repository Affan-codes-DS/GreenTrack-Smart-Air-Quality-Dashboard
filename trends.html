<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AQI Trends</title>
  
  <!-- Inline theme application - MUST be before any stylesheets -->
  <script>
    (function() {
      const theme = localStorage.getItem('greentrack-theme') || 'default';
      const html = document.documentElement;
      if (theme !== 'default') html.classList.add('theme-' + theme);
    })();
  </script>
  
  <!-- Cache clearing script - must load first -->
  <script src="clear-cache.js"></script>
  <link rel="stylesheet" href="style.css?v=3.0.2" />
  <link rel="stylesheet" href="themes.css?v=3.0.2" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="theme-manager.js?v=3.0.2"></script>
  <script src="nav.js?v=3.0.2" defer></script>
</head>
<body>
  <div class="container">
    <header class="dashboard-header">
      <nav class="top-nav">
        <a href="index.html" class="brand">AQI Monitor</a>
        <ul class="nav-links">
          <li><a href="index.html">Dashboard</a></li>
          <li><a href="trends.html">Trends</a></li>
          <li><a href="map.html">Map</a></li>
          <li><a href="news.html">News</a></li>
          <li><a href="pollutants.html">Pollutants</a></li>
          <li><a href="alerts.html">Alerts</a></li>
          <li><a href="cities.html">Cities</a></li>
        </ul>
      </nav>
  <h1>Trends</h1>
  <p style="margin-top:8px"><a href="index.html" class="brand" style="text-decoration:underline;">‚Üê Back to Dashboard</a></p>
      <p class="location" id="trendLocation">Loading...</p>
    </header>

    <div class="card">
      <div class="card-header">
        <h2>24-Hour PM<sub>2.5</sub> Trend</h2>
        <div class="input-group">
          <input id="trendCityInput" type="text" placeholder="Enter city (e.g., New Delhi)" />
          <button id="trendFetchBtn">Update</button>
        </div>
      </div>
      <div class="chart-container">
        <canvas id="trendPageChart"></canvas>
      </div>
      <p class="chart-legend-note">Line color reflects current AQI category.</p>
    </div>

    <footer class="dashboard-footer">
      <p>Data provided by World Air Quality Index Project</p>
    </footer>
  </div>

  <script src="utils.js?v=3.0.2"></script>
  <script src="trends.js?v=3.0.2"></script>
  
  <!-- Service Worker Registration -->
  <script src="sw-register.js?v=3.0.2"></script>
</body>
</html>
